<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>For You</title>
  <link rel="stylesheet" href="..//CSS/banner1.css">
</head>
<body>

<!-- Header -->
<header class="header">
    <div class="header-content">
      <button class="back" onclick="window.location.href='discover.html'" aria-label="ย้อนกลับ">
        <svg viewBox="0 0 24 24">
          <path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z" fill="#fff"/>
        </svg>
      </button>
      <h1>ซัมเมอร์นี้ต้องลอง!</h1>
    </div>
  </header>
  
  <section class="menu-list">
		<div class="menu-item" data-id="53" data-categoryid="2">
		   <div class="image-box">
		     <img src="../src-front/img-beverage/strawberry_lime_soda.jpg" alt="สตอเบอรี่โซดา">
		    <div class="add-btn" data-action="add">+</div>
		   </div>
		   <p>สตอเบอรี่โซดา</p>
		   <p class="price">35 บาท</p>
		 </div>
		 
		 <div class="menu-item" data-id="54" data-categoryid="2">
		      <div class="image-box">
		        <img src="../src-front/img-beverage/blue_hawaii.jpg" alt="บลูฮาวายโซดา">
		        <div class="add-btn" data-action="add">+</div>
		      </div>
		      <p>บลูฮาวายโซดา</p>
		      <p class="price">35 บาท</p>
		    </div>
      
		 <div class="menu-item" data-id="55" data-categoryid="2">
		       <div class="image-box">
		         <img src="../src-front/img-beverage/แดงโซดาสอง.webp" alt="แดงโซดา">
		         <div class="add-btn" data-action="add">+</div>
		       </div>
		       <p>แดงโซดา</p>
		       <p class="price">35 บาท</p>
		     </div>
      
			 <div class="menu-item" data-id="74" data-categoryid="3">
			      <div class="image-box">
			        <img src="../src-front/img-dessert/ice-cream.jpg" alt="ไอศกรีม">
			        <div class="add-btn" data-action="add">+</div>
			      </div>
			      <p>ไอศกรีม</p>
			      <p class="price">45 บาท</p>
			    </div>
						  
				       	<!-- Bottom Nav -->
					   <footer class="bottom-nav"></footer>

				</body>
				</html>
				<script>
				  const menuList = document.querySelector('.menu-list');

				  // ===== fetch Menu =====
				  fetch('http://localhost:8081/api/menu')
				    .then(res => res.json())
				    .then(data => {
				      console.log('Loaded menu:', data);
				    })
				    .catch(err => console.error('Fetch error:', err));
					menuList.addEventListener("click", (event) => {
					  const menuItem = event.target.closest(".menu-item");
					  if (!menuItem) return;

					  if (event.target.classList.contains("add-btn")) {
					    const id = menuItem.dataset.id;
					    const categoryId = parseInt(menuItem.dataset.categoryid, 10);

					    let detailPage = "Detail.html";
					    if (categoryId === 2) detailPage = "beveragedetail.html";
					    else if (categoryId === 3) detailPage = "dessertdetail.html";

					    if (id) {
					      window.location.href = `http://localhost:8081/${detailPage}?id=${id}`;
					    }
					  }
					});
				</script>

